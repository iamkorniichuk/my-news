{% extends "base.html" %}
{% from 'macros.html' import render_form, render_profile_picture, render_divider %}
{% block script %}
    <script src="{{ url_for('static', filename='mark_read.js') }}"></script>
{% endblock script %}
{% block content %}
    <div>
        <div class="bg-image">
            <img class="w-100" src="{{ news_folder(news.cover) }}" alt="Cover"/>
            <div class="mask">
                <div class="d-inline mx-2 align-middle">
                    {{ render_profile_picture(50) }}
                </div>
                <h3 class="d-inline">
                    {{ news.user_login }}
                </h3>
            </div>
        </div>
        <h2>{{ news.title }}</h2>
        <p>{{ news.body }}</p>
        <small>{{ news.posted_time }}</small>
    </div>
    {{ render_divider() }}
    {% if is_logged() %}
        {{ render_form(form) }}
    {% endif %}
    <script>
        loadSection('{{ url_for("news.comments", id=news.id) }}', 'comments')
    </script>
    <div id="comments" class="my-3">
    </div>
{% endblock content %}